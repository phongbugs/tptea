<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
  </head>
  <body>
    Facebook login completed.
    <script type="text/javascript">
      // only apply code when user have not logged in fb yet ( access_token get from api facebook )
      if (!localStorage.getItem('access_token')) {
        const urlParams = new URLSearchParams(window.location.hash.split('#')[1])
        const accessToken = urlParams.get('access_token')
        try {
          window.opener.postMessage(accessToken, window.location.href)
          window.close()
        } catch (error) {
          // when device open new tab instead popup webview
          localStorage.setItem('access_token', accessToken)
          window.location.href = window.location.origin + '/#/customer/login'
        }
      }
    </script>
  </body>
</html>
